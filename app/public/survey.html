<!DOCTYPE html>
<html>
<head>
  <title>Friend Finder</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="reset.css">
  <link href="https://fonts.googleapis.com/css?family=Arima+Madurai|Dosis:500|Kanit" rel="stylesheet">
  <link href="animate.css" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container-fluid bg-pic-survey">
    <div class='layer-survey'>
        <div class="container survey-container">
            <div class="row">
                <div class="col-md-6" style="text-align: center;">
                    <h2 id='survey-header'>Take The Survey!</h2>
                    <h4>Answer the questions below to find your match!</h4>
                    <h4>Choose between 1 (hate it) and 5 (absolutely love it!)</h4>
                    <br/>
                    <div class='form'>
                    	<div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-1">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                        <br/>
                        <div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-2">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                        <br/>
                        <div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-3">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                        <br/>
                        <div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-4">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                        <br/>
                        <div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-5">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                        <br/>
                        <div class="question">
                        <p>How do you feel about ice cream?</p>
                    </div>
                        <form class="form-inline" id="question-6">
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="1" name="optradio">1</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="2" name="optradio">2</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="3" name="optradio">3</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="4" name="optradio">4</label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input id="input" type="radio" value="5" name="optradio">5</label>
                            </div>
                        </form>
                    </div>
                    <br/>
                    <button class='btn btn-primary' id='submit' data-toggle='modal' data-target='#matchModal'>Find Forever</button>
                    <br/>
                    <br/>
                    <br/>
                    <!-- Modal -->
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                    <h1 class="modal-title" id="exampleModal">Here Is Your Match!</h1>
                                    <h2 id='modal-subtitle'>Meet Keisha</h2>
                                </div>
                                <div class="modal-body">
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                    <button type="button" class="btn btn-primary">Save changes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



</body>
</html>

<script type='text/javascript'>

	$('#submit').on('click', function(event){
		event.preventDefault();
		var q1 = parseFloat($('#question-1 input[name="optradio"]:checked').val());
		var q2 = parseFloat($('#question-2 input[name="optradio"]:checked').val());
		var q3 = parseFloat($('#question-3 input[name="optradio"]:checked').val());
		var q4 = parseFloat($('#question-4 input[name="optradio"]:checked').val());
		var q5 = parseFloat($('#question-5 input[name="optradio"]:checked').val());
		var q6 = parseFloat($('#question-6 input[name="optradio"]:checked').val());
		var userScore = {
			scores: [q1, q2, q3, q4, q5, q6]
		};
	console.log(userScore);

	$.post('/api/friends', userScore, function(data){
			if(data){
				alert('Please wait while we find your match! :)')
			}
		
		}).then(function(data){
			$('.modal-body').html('');
			console.log(data);
			var matchPic = `<img class="modal-img" src='${data.photo}'>`;
			$('.modal-body').append(matchPic);
			$('#myModal').modal('toggle');

		});

	});
</script>